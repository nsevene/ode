# План реализации: Раздел для инвесторов и Многоязычность

Этот документ содержит детальный пошаговый план реализации инвесторского раздела и внедрения многоязычной поддержки.

## Этап 1: Базовая функциональность и Инфраструктура

### **Задача 1: Настройка многоязычности (i18n)**

Это основополагающая задача, которую нужно выполнить в первую очередь, так как она затронет все будущие компоненты.

- #### **1.1. Интерфейс**
    - [ ] **Подзадача 1.1.1:** Создать компонент `LanguageSwitcher.tsx` в `src/components/layout/`.
    - [ ] **Подзадача 1.1.2:** Дизайн компонента: выпадающий список или иконки флагов.
    - [ ] **Подзадача 1.1.3:** Интегрировать `LanguageSwitcher` в `Header.tsx`.

- #### **1.2. Логика**
    - [ ] **Подзадача 1.2.1:** Установить зависимости: `i18next`, `react-i18next`, `i18next-browser-languagedetector`.
    - [ ] **Подзадача 1.2.2:** Создать конфигурационный файл `src/i18n.ts`.
    - [ ] **Подзадача 1.2.3:** Настроить `i18n` с поддержкой русского (`ru`) и английского (`en`) языков, используя `i18next-browser-languagedetector` для автоматического определения языка.

- #### **1.3. Функции**
    - [ ] **Подзадача 1.3.1:** Реализовать функцию смены языка в `LanguageSwitcher`, используя хук `useTranslation`.

- #### **1.4. Реализация**
    - [ ] **Подзадача 1.4.1:** Создать структуру папок: `src/locales/ru` и `src/locales/en`.
    - [ ] **Подзадача 1.4.2:** Создать файлы переводов `common.json` в каждой папке.
    - [ ] **Подзадача 1.4.3:** Добавить несколько тестовых ключей в `common.json` (например, для заголовка на главной странице).
    - [ ] **Подзадача 1.4.4:** Рефакторинг `HomePage.tsx` для использования хука `useTranslation` и замены статичного текста на ключи из `common.json`.

- #### **1.5. Связи**
    - [ ] **Подзадача 1.5.1:** Инициализировать `i18next` в главном файле приложения `src/main.tsx`.

### **Задача 2: Создание базовых страниц раздела для инвесторов**

- #### **2.1. Интерфейс**
    - [ ] **Подзадача 2.1.1:** Создать папку `src/pages/investors`.
    - [ ] **Подзадача 2.1.2:** Создать файлы-заглушки для страниц: `InvestorDashboardPage.tsx`, `PortfolioPage.tsx`, `MarketAnalysisPage.tsx`, `SettingsPage.tsx`.
    - [ ] **Подзадача 2.1.3:** В каждой странице-заглушке вывести заголовок, используя `react-helmet-async` и ключи из `i18n`.

- #### **2.2. Логика**
    - [ ] **Подзадача 2.2.1:** Создать новый `investorStore` в `src/store/` для управления состоянием инвесторского раздела.

- #### **2.3. Функции**
    - (Пока не требуется)

- #### **2.4. Реализация**
    - [ ] **Подзадача 2.4.1:** Добавить новые ключи для заголовков страниц в файлы локализации (`investor.json`).

- #### **2.5. Связи**
    - [ ] **Подзадача 2.5.1:** Добавить новые маршруты в `App.tsx` для инвесторских страниц. Маршруты должны быть защищены (`ProtectedRoute`) и доступны только для роли `UserRole.Investor`.
    - [ ] **Подзадача 2.5.2:** Добавить навигационные ссылки в `Header.tsx`, которые будут видны только авторизованным инвесторам.

### **Задача 3: Investor Dashboard - Компоненты и Данные**

- #### **3.1. Интерфейс**
    - [ ] **Подзадача 3.1.1:** Создать папку `src/components/investors`.
    - [ ] **Подзадача 3.1.2:** Создать компонент-заглушку `PortfolioChart.tsx` для отображения графика.
    - [ ] **Подзадача 3.1.3:** Создать компонент-заглушку `FinancialMetrics.tsx` для отображения ключевых метрик (карточки).
    - [ ] **Подзадача 3.1.4:** Разметить сетку `InvestorDashboardPage.tsx` для размещения этих компонентов.

- #### **3.2. Логика**
    - [ ] **Подзадача 3.2.1:** В `investorStore` добавить состояние для данных дашборда (`dashboardData`, `isLoading`, `error`).
    - [ ] **Подзадача 3.2.2:** Создать `types/investor.ts` с типами данных для портфеля и метрик.

- #### **3.3. Функции**
    - [ ] **Подзадача 3.3.1:** В `investorStore` создать `fetchDashboardData` для асинхронной загрузки данных.
    - [ ] **Подзадача 3.3.2:** Создать mock-функцию в `src/lib/api.ts` для имитации запроса данных дашборда (пока без реального API).

- #### **3.4. Реализация**
    - [ ] **Подзадача 3.4.1:** В `InvestorDashboardPage.tsx` вызвать `fetchDashboardData` при монтировании компонента.
    - [ ] **Подзадача 3.4.2:** Передать mock-данные в компоненты `PortfolioChart` и `FinancialMetrics`.
    - [ ] **Подзадача 3.4.3:** Отобразить состояние загрузки и ошибки.

- #### **3.5. Связи**
    - (Компоненты уже связаны со страницей дашборда)

---

## Этап 2: Расширенная функциональность

(Детализация будет добавлена после завершения Этапа 1)

### **Задача 4: Управление портфелем (PortfolioPage)**
### **Задача 5: Расширенная аналитика (MarketAnalysisPage)**
### **Задача 6: Внедрение дополнительных языков**

---
## Этап 3: Интеграции и Автоматизация

(Детализация будет добавлена после завершения Этапа 2)

### **Задача 7: Интеграция с реальным API**
### **Задача 8: AI-ассистент и Социальные функции**
